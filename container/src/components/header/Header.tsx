import React, { useRef, useState } from "react";
import { PiBellSimple } from "react-icons/pi";
import { IoIosArrowDown } from "react-icons/io";
// import XploreLogo from "../../assets/Xplorer-logo.svg";
import { useSelector } from "react-redux";
import { RootState } from "src/store";
import { RxExit, RxPerson } from "react-icons/rx";
import { IoSettingsOutline } from "react-icons/io5";
import { RiListSettingsLine } from "react-icons/ri";
import { PiTreeStructureThin } from "react-icons/pi";
import { useLocation, useNavigate } from "react-router-dom";

const Modal = React.lazy(() => import("component/Modal"));
const Button = React.lazy(() => import("component/Button"));

const Header: React.FC = () => {
  const [isOpen, setIsOpen] = useState(false);
  const userData = {
    userData: {
      Data: {
        Email: "OnisamuelMichael@gmail.com",
        IsAdmin: true,
        Role: "Admin"
      },
    },
  };
  const [showModal, setShowModal] = useState<boolean>(false);
  const navigate = useNavigate();
  const [showSettingsModal, setShowSettingsModal] = useState<boolean>(false);
  const [showCaseStructureModal, setShowCaseStructureModal] =
    useState<boolean>(false);
  const location = useLocation();

  const userInfo = userData?.userData?.Data;
  const firstName = "Michael";
  const lastName = "Oni";

  const initials = `${firstName?.charAt(0).toUpperCase()} ${lastName
    ?.charAt(0)
    .toUpperCase()}`;

  // console.log(userData, userData?.userData, userData?.userData?.Data, userData?.userData?.Data?.Email)
  console.log("isAdmin:", userData?.userData?.Data?.IsAdmin);

  const toggleMenu = (): void => {
    setIsOpen(!isOpen);
  };

  const handleModal = () => {
    setShowModal(!showModal);
  };

  const handleSettingsModal = () => {
    setShowSettingsModal(!showSettingsModal);
  };
  const handleCaseSModal = () => {
    setShowCaseStructureModal(!showCaseStructureModal);
  };

  const buttonRef = useRef<HTMLDivElement>(null);

  const handleLogOut = () => {
    // localStorage.removeItem("user");
    window.location.reload();
  };

  const handleNavigateToCaseStructure = () => {
    const MESSAGE_TYPE = "settings-mfe-navigation";

    // Send navigation message
    window.parent.postMessage(
      { type: MESSAGE_TYPE, path: "/case-structure" },
      "*"
    );

    // navigate("/case-structure"); // Use consistent path
    setShowSettingsModal(false);
    setShowCaseStructureModal(false);
  };

  const handleNavigateToUserManagement = () => {
    const MESSAGE_TYPE = "settings-mfe-navigation";
    window.parent.postMessage({ type: MESSAGE_TYPE, path: "/user-management" });
    navigate("/user-management");
    setShowSettingsModal(false);
    setShowCaseStructureModal(false);
  };

  const handleNavigateToGeneralSettings = () => {
    const MESSAGE_TYPE = "settings-mfe-navigation";

    // console.log("Navigating with type:", type);
    // console.log("Sending message with path:", type === "settings" ? "/general-settings" : "/case-structure");

    // Send navigation message
    window.parent.postMessage(
      {
        type: MESSAGE_TYPE,
        path: "/general-settings",
      },
      "*"
    );

    setShowSettingsModal(false);
  };

  return (
    <header className="left-0 w-full z-10 bg-black shadow-md">
      <div className="py-3 flex justify-between items-center">
        <div className="flex items-center w-[14%] border-r-2 border-[#E0E0E0]">
          <a href="/" className="h-full w-full">
            {/* <svg width="121" height="40" viewBox="0 0 121 40" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M11.4091 8.72727L14.0909 15.5H14.2727L19.2727 8.72727H26.5909L17.7273 20.3636L23 32H15.9545L13.1364 25.0909H12.9545L7.86364 32H0.5L9.59091 20.3636L4.59091 8.72727H11.4091Z" fill="#6278FF" />
              <path d="M27.321 29V11.5455H34.5312C35.8381 11.5455 36.9659 11.8011 37.9148 12.3125C38.8693 12.8182 39.6051 13.5256 40.1222 14.4347C40.6392 15.3381 40.8977 16.3892 40.8977 17.5881C40.8977 18.7926 40.6335 19.8466 40.1051 20.75C39.5824 21.6477 38.8352 22.3437 37.8636 22.8381C36.892 23.3324 35.7386 23.5795 34.4034 23.5795H29.9545V20.2557H33.6193C34.2557 20.2557 34.7869 20.1449 35.2131 19.9233C35.6449 19.7017 35.9716 19.392 36.1932 18.9943C36.4148 18.5909 36.5256 18.1222 36.5256 17.5881C36.5256 17.0483 36.4148 16.5824 36.1932 16.1903C35.9716 15.7926 35.6449 15.4858 35.2131 15.2699C34.7813 15.054 34.25 14.946 33.6193 14.946H31.5398V29H27.321ZM42.9773 29V11.5455H47.196V25.5739H54.4574V29H42.9773ZM72.4361 20.2727C72.4361 22.1932 72.0668 23.821 71.3281 25.1562C70.5895 26.4915 69.5895 27.5057 68.3281 28.1989C67.0724 28.892 65.6634 29.2386 64.1009 29.2386C62.5327 29.2386 61.1207 28.8892 59.8651 28.1903C58.6094 27.4915 57.6122 26.4773 56.8736 25.1477C56.1406 23.8125 55.7741 22.1875 55.7741 20.2727C55.7741 18.3523 56.1406 16.7244 56.8736 15.3892C57.6122 14.054 58.6094 13.0398 59.8651 12.3466C61.1207 11.6534 62.5327 11.3068 64.1009 11.3068C65.6634 11.3068 67.0724 11.6534 68.3281 12.3466C69.5895 13.0398 70.5895 14.054 71.3281 15.3892C72.0668 16.7244 72.4361 18.3523 72.4361 20.2727ZM68.1236 20.2727C68.1236 19.1364 67.9616 18.1761 67.6378 17.392C67.3196 16.608 66.8594 16.0142 66.2571 15.6108C65.6605 15.2074 64.9418 15.0057 64.1009 15.0057C63.2656 15.0057 62.5469 15.2074 61.9446 15.6108C61.3423 16.0142 60.8793 16.608 60.5554 17.392C60.2372 18.1761 60.0781 19.1364 60.0781 20.2727C60.0781 21.4091 60.2372 22.3693 60.5554 23.1534C60.8793 23.9375 61.3423 24.5312 61.9446 24.9347C62.5469 25.3381 63.2656 25.5398 64.1009 25.5398C64.9418 25.5398 65.6605 25.3381 66.2571 24.9347C66.8594 24.5312 67.3196 23.9375 67.6378 23.1534C67.9616 22.3693 68.1236 21.4091 68.1236 20.2727ZM74.8991 29V11.5455H82.1094C83.4162 11.5455 84.544 11.7812 85.4929 12.2528C86.4474 12.7187 87.1832 13.3892 87.7003 14.2642C88.2173 15.1335 88.4759 16.1648 88.4759 17.358C88.4759 18.5682 88.2116 19.5966 87.6832 20.4432C87.1548 21.2841 86.4048 21.9261 85.4332 22.3693C84.4616 22.8068 83.3111 23.0256 81.9815 23.0256H77.4219V19.7017H81.1974C81.8338 19.7017 82.3651 19.6193 82.7912 19.4545C83.223 19.2841 83.5497 19.0284 83.7713 18.6875C83.9929 18.3409 84.1037 17.8977 84.1037 17.358C84.1037 16.8182 83.9929 16.3722 83.7713 16.0199C83.5497 15.6619 83.223 15.3949 82.7912 15.2188C82.3594 15.0369 81.8281 14.946 81.1974 14.946H79.1179V29H74.8991ZM84.7259 21.0227L89.0724 29H84.4702L80.2088 21.0227H84.7259ZM90.7898 29V11.5455H102.96V14.9716H95.0085V18.5511H102.338V21.9858H95.0085V25.5739H102.96V29H90.7898ZM105.602 29V11.5455H112.812C114.119 11.5455 115.247 11.7812 116.196 12.2528C117.151 12.7187 117.886 13.3892 118.403 14.2642C118.92 15.1335 119.179 16.1648 119.179 17.358C119.179 18.5682 118.915 19.5966 118.386 20.4432C117.858 21.2841 117.108 21.9261 116.136 22.3693C115.165 22.8068 114.014 23.0256 112.685 23.0256H108.125V19.7017H111.901C112.537 19.7017 113.068 19.6193 113.494 19.4545C113.926 19.2841 114.253 19.0284 114.474 18.6875C114.696 18.3409 114.807 17.8977 114.807 17.358C114.807 16.8182 114.696 16.3722 114.474 16.0199C114.253 15.6619 113.926 15.3949 113.494 15.2188C113.063 15.0369 112.531 14.946 111.901 14.946H109.821V29H105.602ZM115.429 21.0227L119.776 29H115.173L110.912 21.0227H115.429Z" fill="white" />
            </svg> */}
            <svg
              width="159"
              height="40"
              viewBox="0 0 381 97"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M15.5527 0.260742C16.8479 0.260464 18.1185 0.614157 19.2275 1.2832C20.3366 1.95228 21.2419 2.91169 21.8457 4.05762L37.5332 33.791C38.0928 34.8505 38.3757 36.0344 38.3555 37.2324C38.3352 38.4303 38.0129 39.6036 37.418 40.6436L20.4844 70.2549C19.8612 71.3431 18.9615 72.2475 17.877 72.877C16.7923 73.5064 15.5607 73.8387 14.3066 73.8398H0L18.5176 41.4395C19.2284 40.1964 19.6136 38.7933 19.6377 37.3613C19.6617 35.9296 19.3236 34.5151 18.6553 33.249L1.26172 0.260742H15.5527Z"
                fill="#C0C9FF"
              />
              <path
                d="M39.3037 0.260742C40.5989 0.260465 41.8695 0.614157 42.9785 1.2832C44.0876 1.95228 44.9929 2.91169 45.5967 4.05762L61.2842 33.791C61.8438 34.8505 62.1266 36.0344 62.1064 37.2324C62.0862 38.4303 61.7638 39.6036 61.1689 40.6436L44.2354 70.2549C43.6122 71.3431 42.7125 72.2475 41.6279 72.877C40.5433 73.5064 39.3116 73.8387 38.0576 73.8398H23.751L42.2686 41.4395C42.9793 40.1964 43.3646 38.7933 43.3887 37.3613C43.4127 35.9296 43.0746 34.5151 42.4062 33.249L25.0127 0.260742H39.3037Z"
                fill="#8193FF"
              />
              <path
                d="M91.3075 0.260742C90.0123 0.260456 88.7417 0.614162 87.6327 1.2832C86.5236 1.95228 85.6183 2.91169 85.0145 4.05762L69.327 33.791C68.7674 34.8505 68.4846 36.0344 68.5048 37.2324C68.525 38.4303 68.8473 39.6036 69.4423 40.6436L86.3759 70.2549C86.999 71.3431 87.8987 72.2475 88.9833 72.877C90.0679 73.5063 91.2996 73.8387 92.5536 73.8398H106.86L88.3427 41.4395C87.6319 40.1964 87.2467 38.7933 87.2225 37.3613C87.1985 35.9296 87.5366 34.5151 88.205 33.249L105.599 0.260742H91.3075Z"
                fill="white"
              />
              <path
                d="M63.0549 0.260742C64.3501 0.260464 65.6207 0.614157 66.7297 1.2832C67.8388 1.95228 68.7441 2.91169 69.3479 4.05762L85.0354 33.791C85.595 34.8505 85.8779 36.0344 85.8577 37.2324C85.8374 38.4303 85.5151 39.6036 84.9202 40.6436L67.9866 70.2549C67.3634 71.3431 66.4637 72.2475 65.3792 72.877C64.2945 73.5064 63.0629 73.8387 61.8088 73.8398H47.5022L66.0198 41.4395C66.7306 40.1964 67.1158 38.7933 67.1399 37.3613C67.1639 35.9296 66.8258 34.5151 66.1575 33.249L48.7639 0.260742H63.0549Z"
                fill="#6278FF"
              />
              <path
                d="M297.678 91.9883L300.863 84.2119H302.25L296.85 96.9199H295.464L296.939 93.4463L293.033 84.2119H294.51L297.678 91.9883ZM314.153 84.0322C315.461 84.0322 316.554 84.4884 317.43 85.4004C318.317 86.3003 318.762 87.4219 318.762 88.7656C318.762 90.1096 318.323 91.2384 317.447 92.1504C316.571 93.0501 315.473 93.5 314.153 93.5C312.629 93.4999 311.435 92.8936 310.571 91.6816V96.9199H309.222V84.2119H310.571V85.8496C311.435 84.6378 312.63 84.0323 314.153 84.0322ZM284.35 85.8496C285.214 84.6378 286.408 84.0323 287.932 84.0322C289.24 84.0322 290.332 84.4884 291.208 85.4004C292.096 86.3003 292.54 87.4219 292.54 88.7656C292.54 90.1096 292.102 91.2384 291.226 92.1504C290.35 93.0501 289.251 93.5 287.932 93.5C286.408 93.4999 285.214 92.8935 284.35 91.6816V93.3203H283V80H284.35V85.8496ZM325.095 84.0322C326.499 84.0322 327.651 84.5304 328.551 85.5264C329.463 86.5103 329.865 87.7278 329.757 89.1797H321.747C321.843 90.0915 322.209 90.8417 322.845 91.4297C323.493 92.0057 324.279 92.2939 325.203 92.2939C325.911 92.2939 326.541 92.1203 327.093 91.7725C327.645 91.4245 328.066 90.9496 328.354 90.3496L329.505 90.8359C329.121 91.6399 328.551 92.2883 327.795 92.7803C327.039 93.2601 326.169 93.4999 325.186 93.5C323.83 93.5 322.689 93.0504 321.765 92.1504C320.853 91.2384 320.397 90.1096 320.397 88.7656C320.398 87.4219 320.847 86.3003 321.747 85.4004C322.647 84.4885 323.763 84.0323 325.095 84.0322ZM336.139 84.0322C337.543 84.0323 338.695 84.5304 339.595 85.5264C340.506 86.5102 340.909 87.728 340.801 89.1797H332.79C332.886 90.0917 333.253 90.8417 333.889 91.4297C334.537 92.0056 335.322 92.2939 336.246 92.2939C336.954 92.2939 337.585 92.1205 338.137 91.7725C338.689 91.4245 339.108 90.9496 339.396 90.3496L340.549 90.8359C340.165 91.6399 339.595 92.2883 338.839 92.7803C338.083 93.2603 337.212 93.5 336.229 93.5C334.873 93.5 333.733 93.0502 332.809 92.1504C331.897 91.2384 331.44 90.1096 331.44 88.7656C331.441 87.422 331.89 86.3002 332.79 85.4004C333.69 84.4884 334.807 84.0322 336.139 84.0322ZM357.896 84.0322C359.299 84.0323 360.452 84.5304 361.352 85.5264C362.263 86.5102 362.666 87.728 362.558 89.1797H354.547C354.643 90.0917 355.01 90.8417 355.646 91.4297C356.293 92.0056 357.079 92.2939 358.003 92.2939C358.711 92.2939 359.342 92.1205 359.894 91.7725C360.446 91.4245 360.865 90.9496 361.153 90.3496L362.306 90.8359C361.922 91.6399 361.351 92.2883 360.595 92.7803C359.839 93.2601 358.969 93.5 357.985 93.5C356.63 93.5 355.489 93.0502 354.565 92.1504C353.653 91.2384 353.197 90.1096 353.197 88.7656C353.197 87.422 353.647 86.3002 354.547 85.4004C355.447 84.4884 356.564 84.0322 357.896 84.0322ZM367.909 84.0322C368.893 84.0322 369.697 84.2599 370.321 84.7158C370.945 85.1718 371.33 85.7903 371.474 86.5703L370.123 86.8398C369.919 85.736 369.181 85.1836 367.909 85.1836C367.297 85.1836 366.793 85.3161 366.397 85.5801C366.002 85.8441 365.804 86.1921 365.804 86.624C365.804 87.044 366.002 87.3677 366.397 87.5957C366.805 87.8117 367.291 87.9685 367.855 88.0645C368.431 88.1604 369.001 88.2798 369.565 88.4238C370.141 88.5558 370.627 88.8199 371.023 89.2158C371.431 89.6118 371.636 90.1464 371.636 90.8184C371.636 91.5982 371.281 92.2402 370.573 92.7441C369.865 93.248 368.977 93.5 367.909 93.5C366.877 93.5 366.031 93.2724 365.371 92.8164C364.723 92.3604 364.328 91.7419 364.184 90.9619L365.552 90.6924C365.744 91.808 366.53 92.3661 367.909 92.3662C368.605 92.3662 369.17 92.2281 369.602 91.9521C370.046 91.6641 370.268 91.2975 370.268 90.8535C370.267 90.3978 370.063 90.0495 369.655 89.8096C369.259 89.5697 368.78 89.4016 368.216 89.3057C367.652 89.1977 367.082 89.0838 366.506 88.9639C365.942 88.8319 365.456 88.5799 365.048 88.208C364.652 87.836 364.453 87.3257 364.453 86.6777C364.453 85.9099 364.778 85.28 365.426 84.7881C366.074 84.2842 366.901 84.0323 367.909 84.0322ZM376.703 84.0322C377.687 84.0323 378.491 84.2599 379.115 84.7158C379.739 85.1718 380.123 85.7904 380.267 86.5703L378.917 86.8398C378.713 85.736 377.975 85.1837 376.703 85.1836C376.091 85.1836 375.586 85.3161 375.19 85.5801C374.795 85.8441 374.597 86.1921 374.597 86.624C374.597 87.0439 374.795 87.3677 375.19 87.5957C375.598 87.8117 376.085 87.9684 376.648 88.0645C377.224 88.1604 377.795 88.2799 378.358 88.4238C378.934 88.5558 379.42 88.82 379.816 89.2158C380.224 89.6118 380.429 90.1464 380.429 90.8184C380.429 91.5981 380.075 92.2402 379.367 92.7441C378.659 93.2481 377.771 93.4999 376.703 93.5C375.671 93.5 374.825 93.2722 374.165 92.8164C373.517 92.3604 373.121 91.7419 372.977 90.9619L374.345 90.6924C374.537 91.8081 375.323 92.3662 376.703 92.3662C377.399 92.3662 377.963 92.228 378.395 91.9521C378.839 91.6641 379.061 91.2975 379.061 90.8535C379.06 90.3978 378.857 90.0495 378.449 89.8096C378.053 89.5696 377.573 89.4017 377.009 89.3057C376.445 89.1977 375.875 89.0839 375.299 88.9639C374.735 88.8319 374.249 88.58 373.841 88.208C373.445 87.836 373.247 87.3257 373.247 86.6777C373.247 85.9099 373.571 85.28 374.219 84.7881C374.867 84.2841 375.695 84.0322 376.703 84.0322ZM345.883 84.3379C346.543 84.05 347.257 83.9716 348.024 84.1035V85.418C347.005 85.1901 346.128 85.3458 345.396 85.8857C344.677 86.4137 344.316 87.1582 344.316 88.1182V93.3203H342.967V84.2119H344.316V85.6699C344.712 85.0699 345.235 84.6259 345.883 84.3379ZM351.071 93.3203H349.721V80H351.071V93.3203ZM287.752 85.292C286.792 85.292 285.982 85.628 285.322 86.2998C284.674 86.9597 284.35 87.7818 284.35 88.7656C284.35 89.7496 284.674 90.578 285.322 91.25C285.982 91.9099 286.792 92.2402 287.752 92.2402C288.724 92.2402 289.534 91.9099 290.182 91.25C290.83 90.59 291.154 89.7616 291.154 88.7656C291.154 87.7698 290.83 86.9421 290.182 86.2822C289.534 85.6223 288.724 85.292 287.752 85.292ZM313.974 85.292C313.014 85.292 312.204 85.628 311.544 86.2998C310.896 86.9597 310.571 87.7818 310.571 88.7656C310.571 89.7496 310.896 90.578 311.544 91.25C312.204 91.9099 313.014 92.2402 313.974 92.2402C314.946 92.2402 315.755 91.9099 316.403 91.25C317.051 90.59 317.376 89.7616 317.376 88.7656C317.376 87.7698 317.051 86.9421 316.403 86.2822C315.755 85.6223 314.946 85.292 313.974 85.292ZM142.2 20.5439C154.488 20.5441 163.512 31.6805 163.512 46.2725C163.512 60.8642 154.488 71.9999 142.2 72C133.368 72 126.84 65.952 123.96 56.832V90.2402H111V21.5039H123.96V35.7119C126.84 26.592 133.368 20.5439 142.2 20.5439ZM325.095 85.2383C324.267 85.2384 323.547 85.5024 322.936 86.0303C322.324 86.5583 321.939 87.2365 321.783 88.0645H328.389C328.257 87.2485 327.885 86.5758 327.273 86.0479C326.673 85.5079 325.947 85.2383 325.095 85.2383ZM336.139 85.2383C335.311 85.2383 334.591 85.5023 333.979 86.0303C333.367 86.5583 332.982 87.2365 332.826 88.0645H339.433C339.301 87.2485 338.928 86.5759 338.316 86.0479C337.716 85.5079 336.991 85.2383 336.139 85.2383ZM357.896 85.2383C357.068 85.2383 356.347 85.5023 355.735 86.0303C355.123 86.5583 354.739 87.2365 354.583 88.0645H361.189C361.057 87.2485 360.685 86.5759 360.073 86.0479C359.473 85.5079 358.747 85.2383 357.896 85.2383ZM219.857 20.5439C234.929 20.544 246.354 31.6805 246.354 46.2725C246.353 60.8642 234.929 71.9999 219.857 72C204.786 72 193.362 60.8642 193.361 46.2725C193.361 31.6805 204.785 20.5439 219.857 20.5439ZM313.783 20.5439C330.391 20.5439 342.007 34.3679 339.319 50.8799H301.111C302.839 56.7359 307.831 60.8642 314.647 60.8643C320.023 60.8643 324.536 58.2721 326.936 53.9521L337.592 58.752C333.272 66.5279 325.016 71.9999 314.264 72C299.192 72 287.768 60.8642 287.768 46.2725C287.768 31.6806 298.999 20.5441 313.783 20.5439ZM184.897 71.04H171.938V0H184.897V71.04ZM267.772 34.3682C271.132 21.5042 279.005 19.0075 286.301 21.3115V33.5996C275.837 29.9516 267.773 34.752 267.772 43.2959V71.04H254.812V21.5039H267.772V34.3682ZM361.241 34.3682C364.601 21.5042 372.474 19.0075 379.77 21.3115V33.5996C369.306 29.9516 361.241 34.752 361.241 43.2959V71.04H348.281V21.5039H361.241V34.3682ZM137.496 32.4482C129.624 32.4482 123.96 38.4005 123.96 46.2725C123.96 54.2402 129.624 60.1924 137.496 60.1924C144.504 60.1923 150.072 54.2402 150.072 46.2725C150.072 38.4005 144.504 32.4483 137.496 32.4482ZM219.857 32.4482C212.465 32.4482 206.801 38.4005 206.801 46.2725C206.801 54.2402 212.466 60.1924 219.857 60.1924C227.345 60.1923 232.913 54.2402 232.913 46.2725C232.913 38.4005 227.345 32.4483 219.857 32.4482ZM313.783 31.6797C307.927 31.6798 303.128 35.4243 301.304 40.9922H326.359C324.631 35.4242 319.927 31.6797 313.783 31.6797Z"
                fill="white"
              />
            </svg>
          </a>
        </div>

        <div className="flex items-center justify-between w-[85%]">
          <div className="text-white text-[24px] font-medium flex">
            <p>CRM Portal</p>
          </div>
          <div className="flex">
            {/* To be worked on in the future */}
            {/* <div className="text-3xl font-bold text-white pl-3 border-r border-gray-400 rounded-xl bg-[#6D6E6F] p-4 flex items-center justify-center w-12 h-12 mr-5">
              <PiBellSimple size={32} />
            </div> */}
            <div
              onClick={handleModal}
              ref={buttonRef}
              className="text-white pl-6 text-[24px] font-medium w-64 flex items-center space-x-3 border-l border-gray-400 cursor-pointer"
            >
              <div className="flex items-center space-x-2">
                <IoIosArrowDown />
                <span className="bg-white rounded-full text-[#6278FF] font-bold text-[55%] p-2 flex items-center justify-center w-12 h-12">
                  {initials}
                </span>
              </div>
              <div>
                <p className="text-[14px] ">
                  {firstName?.charAt(0).toUpperCase() + firstName?.slice(1)}{" "}
                  {lastName?.charAt(0).toUpperCase() + lastName?.slice(1)}
                </p>
                <p className="text-[12px]">{userInfo?.Role}</p>
              </div>
            </div>
            <Modal
              isOpen={showModal}
              onClose={handleModal || handleSettingsModal}
              position="underButton"
              buttonRef={buttonRef}
              height="65px"
              width="237px"
              closeXBtn={false}
              className="!rounded-none"
            >
              <div className="flex justify-between cursor-pointer mb-4">
                <p onClick={handleLogOut} className="">
                  Logout
                </p>
                <RxExit />
              </div>
              {/* <div
                className="flex justify-between cursor-pointer"
                onClick={handleSettingsModal}
              >
                <p className="">Settings</p>
                <IoSettingsOutline />
              </div> */}
            </Modal>
            {/* <Modal
              isOpen={showSettingsModal}
              onClose={handleSettingsModal}
              position="nextToButton"
              buttonRef={buttonRef}
              height="150px"
              width="300px"
              className="!rounded-lg ml-2"
            >
              <div className="flex flex-col space-y-4">
                <div
                  className="flex items-center justify-between cursor-pointer"
                  onClick={() => {
                    console.log("General Settings clicked");
                    handleNavigateToGeneralSettings();
                    console.log("General Settings clicked after");
                  }}
                >
                  <p className="">General Settings</p>
                  <RiListSettingsLine />
                </div>
                <div
                  className="flex items-center justify-between cursor-pointer"
                  onClick={() => {
                    console.log("Case Structure clicked");
                    // handleNavigateToGeneralSettings("/case-structure");
                    handleNavigateToCaseStructure();
                    console.log("navigated to Case Structure clicked");
                  }}
                >
                  <p className="">Case Structure</p>
                  <PiTreeStructureThin />
                </div>
                <div
                  className="flex items-center justify-between cursor-pointer"
                  onClick={() => {
                    handleNavigateToUserManagement();
                  }}
                >
                  <p className="">User Management</p>
                  <RxPerson />
                </div>
              </div>
            </Modal> */}
          </div>
        </div>
      </div>
      <div
        className={`md:hidden ${
          isOpen ? "block" : "hidden"
        } bg-white shadow-md`}
      >
        <nav className="px-6 py-4 space-y-2">
          <a href="#" className="block text-gray-600 hover:text-teal-600">
            Home
          </a>
          <a href="#" className="block text-gray-600 hover:text-teal-600">
            About
          </a>
          <a href="#" className="block text-gray-600 hover:text-teal-600">
            Services
          </a>
          <a href="#" className="block text-gray-600 hover:text-teal-600">
            Contact
          </a>
          <a
            href="#"
            className="block bg-teal-600 text-white px-4 py-2 rounded hover:bg-teal-700 text-center"
          >
            Get Started
          </a>
        </nav>
      </div>
    </header>
  );
};

export default Header;
